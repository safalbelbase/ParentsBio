<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Parent Biography Form - Step-by-step</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#60a5fa;--muted:#94a3b8;--glass:rgba(255,255,255,0.03)}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:linear-gradient(180deg,#071029 0%, #071833 60%);color:#e6eef8}
    .wrap{max-width:820px;margin:28px auto;padding:22px;background:var(--card);border-radius:14px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    h1{margin:0 0 6px;font-size:20px}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .card{background:var(--glass);padding:18px;border-radius:10px}
    .q{display:flex;gap:12px;align-items:center}
    label{font-weight:600}
    input[type=text],textarea,input[type=date],select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit}
    .controls{display:flex;gap:8px;justify-content:space-between;margin-top:12px}
    .btn{background:linear-gradient(90deg,var(--accent),#3b82f6);border:none;padding:8px 12px;border-radius:8px;color:#04132a;font-weight:700;cursor:pointer}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}
    .progress{height:10px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,#60a5fa,#7dd3fc);width:0%}
    .small{font-size:13px;color:var(--muted)}
    .final-area{margin-top:18px}
    textarea.output{width:100%;height:320px;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:#021024;color:#e6eef8}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    @media(max-width:720px){.row{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Parent Biography — Step-by-step Form</h1>
    <p class="lead">Share this single HTML file with your parents. It asks one question at a time for Father first, then Mother. When finished it generates two copyable biographies in the same storytelling style as your samples.</p>

    <div class="card">
      <div class="small">Current: <strong id="current-person">Father</strong> — Question <span id="qnum">1</span> / <span id="qtotal">12</span></div>
      <div style="height:10px;margin:10px 0" class="progress"><i id="bar"></i></div>

      <div id="question-box" style="margin-top:8px">
        <!-- question UI injected here -->
      </div>

      <div class="controls">
        <div>
          <button id="backBtn" class="btn ghost" onclick="back()">Back</button>
          <button id="nextBtn" class="btn" onclick="next()">Next</button>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <button class="btn ghost" onclick="preview()">Preview Biographies</button>
          <button class="btn ghost" onclick="resetAll()">Reset</button>
        </div>
      </div>

      <div class="final-area" id="final-area" style="display:none">
        <h3>Result — Copy or Download</h3>
        <div class="row">
          <div>
            <div class="small">Biography of My Father</div>
            <textarea id="outFather" class="output" readonly></textarea>
          </div>
          <div>
            <div class="small">History of My Mother</div>
            <textarea id="outMother" class="output" readonly></textarea>
          </div>
        </div>
        <div style="margin-top:10px;display:flex;gap:8px">
          <button class="btn" onclick="copyAll()">Copy Both</button>
          <button class="btn" onclick="downloadTxt()">Download .doc (Word-friendly)</button>
          <button class="btn ghost" onclick="printResult()">Print</button>
        </div>
      </div>

    </div>

    <p class="small" style="margin-top:12px">How to use: Save this file as <code>parent_biography_form.html</code>, send it to your parents, they open it in their browser, answer questions one-by-one, and then share you the final text or file.</p>
  </div>

<script>
const fatherQ = [
  'What is your father\'s full name?','What is his date of birth (B.S. or A.D.)?','Where was he born (village, district, country)?',
  'How was his childhood and education (schooling, poverty, struggles, etc.)?','Did he face any health problems or diseases?','Did he migrate or do any jobs? (work history, struggles, sacrifices)',
  'When and how did he get married?','How many children does he have? (include you also)','Did any tragic or important events happen in his life?',
  'What kind of personality, qualities, or values does he have?','What lessons have you learned from his life?','How has he impacted your family (love, sacrifice, support)?'
];
const motherQ = [
  'What is your mother\'s full name?','What is her date of birth (B.S. or A.D.)?','Where was she born (village, district, country)?',
  'How was her childhood and education?','Did she face any health issues or diseases?','When and how did she get married?',
  'How many children does she have? (include you also)','Did any tragic or important events happen in her life?','What kind of personality, qualities, or values does she have?',
  'What lessons have you learned from her life?','How has she impacted your family (love, sacrifice, support)?'
];

let person = 'Father';
let idx = 0;
let answers = {Father: Array(fatherQ.length).fill(''), Mother: Array(motherQ.length).fill('')};

const qtotalEl = document.getElementById('qtotal');
const qnumEl = document.getElementById('qnum');
const currentPersonEl = document.getElementById('current-person');
const bar = document.getElementById('bar');
const questionBox = document.getElementById('question-box');
const finalArea = document.getElementById('final-area');

qtotalEl.textContent = fatherQ.length;

function renderQuestion(){
  const list = (person === 'Father')? fatherQ : motherQ;
  qnumEl.textContent = idx+1;
  currentPersonEl.textContent = person;
  qtotalEl.textContent = list.length;
  const pct = Math.round(((idx)/(list.length)) * 100);
  bar.style.width = pct + '%';

  const prev = answers[person][idx] || '';
  const isLong = list[idx].toLowerCase().includes('how') || list[idx].toLowerCase().includes('describe') || list[idx].toLowerCase().includes('what');

  questionBox.innerHTML = `
    <div style="margin-bottom:8px"><label>${list[idx]}</label></div>
    ${isLong? '<textarea id="inputField" rows="6" placeholder="Write honestly...">'+escapeHtml(prev)+'</textarea>' : '<input id="inputField" type="text" value="'+escapeHtml(prev)+'" placeholder="Type answer...">'}
  `;
}

function escapeHtml(s){
  if(!s) return '';
  return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
}

function next(){
  saveAnswer();
  const list = (person === 'Father')? fatherQ : motherQ;
  if(idx < list.length -1){ idx++; renderQuestion(); return; }
  // finished current person
  if(person === 'Father'){
    person = 'Mother'; idx = 0; renderQuestion(); return;
  }
  // finished both
  showFinal();
}

function back(){
  saveAnswer();
  if(idx > 0){ idx--; renderQuestion(); return; }
  if(person === 'Mother'){ person = 'Father'; idx = fatherQ.length -1; renderQuestion(); return; }
}

function saveAnswer(){
  const el = document.getElementById('inputField');
  if(!el) return;
  answers[person][idx] = el.value.trim();
}

function showFinal(){
  saveAnswer();
  finalArea.style.display = 'block';
  const f = buildFather(answers.Father);
  const m = buildMother(answers.Mother);
  document.getElementById('outFather').value = f;
  document.getElementById('outMother').value = m;
  // scroll to final
  finalArea.scrollIntoView({behavior:'smooth'});
}

function preview(){
  showFinal();
}

function copyAll(){
  const combined = document.getElementById('outFather').value + '\n\n' + document.getElementById('outMother').value;
  navigator.clipboard.writeText(combined).then(()=>{alert('Copied both biographies to clipboard')}).catch(()=>{alert('Copy failed — please select and copy manually')});
}

function downloadTxt(){
  const fname = 'Parent_Biographies.doc';
  const combined = document.getElementById('outFather').value + '\n\n' + document.getElementById('outMother').value;
  const blob = new Blob([combined], {type:'application/msword'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a'); a.href = url; a.download = fname; a.click(); URL.revokeObjectURL(url);
}

function printResult(){
  const w = window.open('','_blank');
  w.document.write('<pre style="font-family:inherit;white-space:pre-wrap">'+escapeHtml(document.getElementById('outFather').value)+'\n\n'+escapeHtml(document.getElementById('outMother').value)+'</pre>');
  w.document.close();
  w.print();
}

function resetAll(){
  if(!confirm('Clear all answers and start again?')) return;
  answers = {Father: Array(fatherQ.length).fill(''), Mother: Array(motherQ.length).fill('')};
  person='Father'; idx=0; finalArea.style.display='none'; renderQuestion();
}

function buildFather(a){
  const [name,dob,place,childEdu,health,migrate,marriage,children,tragic,qualities,lessons,impact] = a.map(x=>x||'(Not provided)');
  return `Biography of My Father: ${name}\n\nMy father’s name is ${name}. He was born on ${dob} in ${place}. ${childEdu}\n\n${health && health!=='(Not provided)'? 'He has faced health issues: '+health +'.\n\n' : ''}${migrate}\n\n${marriage && marriage!=='(Not provided)'? 'He got married '+marriage +'.\n\n' : ''}He is the father of ${children}. ${tragic}\n\n${qualities}\n\n${impact}\n\nBecause of his life and struggles, I feel proud of him and want to make him proud by working hard and giving him the life he deserves.`;
}

function buildMother(a){
  const [name,dob,place,childEdu,health,marriage,children,tragic,qualities,lessons,impact] = a.map(x=>x||'(Not provided)');
  return `History of my Mother\n\nMy mother’s name is ${name}. She was born on ${dob} in ${place}. ${childEdu}\n\n${health && health!=='(Not provided)'? 'She has faced health issues: '+health +'.\n\n' : ''}${marriage && marriage!=='(Not provided)'? 'She got married '+marriage +'.\n\n' : ''}She is the mother of ${children}. ${tragic}\n\n${qualities}\n\n${lessons}\n\n${impact}`;
}

// initial render
renderQuestion();
</script>
</body>
  </html>
  
